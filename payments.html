<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Big Boss Gym - Payments</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/member.css">
</head>
<body>
  <nav class="navbar">
    <img src="img/logo.jpg" alt="Big Boss Gym Logo" class="logo">
    <ul>
      <li><a href="index.html">Welcome</a></li>
      <li><a href="home.html">Home</a></li>
      <li><a href="member.html">Members</a></li>
      <li><a href="trainer.html">Trainers</a></li>
      <li><a href="workouts.html">Workouts</a></li>
      <li><a href="shops.html">Shop</a></li>
      <li><a href="payments.html" class="active">Payments</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="login.html">Login</a></li>
      <li><a href="account.html">My Account</a></li>
      <li><a href="chatbot.html">Gymbot</a></li>
      
    </ul>
    <button id="dark-toggle" class="dark-toggle">ðŸŒ“</button>

  </nav>

  <main>
    <!-- Add this above the payment method section -->
    <section id="promo-section" class="section"></section>

    <section class="section">
      <h2>Payment Summary</h2>
      <ul id="payment-cart-items"></ul>
      
      <div class="price-breakdown">
        <div class="price-row">
            <span>Subtotal:</span>
            <span id="subtotal">$0.00</span>
        </div>
        <div class="price-row">
            <span>Discount:</span>
            <span id="discount">$0.00</span>
        </div>
        <div class="price-row total">
            <span>Total:</span>
            <span id="payment-total-price">$0.00</span>
        </div>
      </div>
      
      <div class="mt-4">
        <h3>Payment Method</h3>
        <div class="form-group mt-2">
          <select id="payment-method" class="form-control">
            <option value="credit">Credit Card</option>
            <option value="aba">ABA Pay</option>
            <option value="wing">Wing</option>
            <option value="cash">Cash</option>
          </select>
        </div>
      </div>
      
      <!-- QR Code Section -->
      <div id="qr-code-container" style="display: none; margin-top: 20px;">
        <h4>Scan the QR Code to Pay</h4>
        <img id="qr-code-image" src="" alt="QR Code for Payment" style="width: 200px; height: 200px;">
      </div>

      <button id="confirm-payment" class="btn btn-accent mt-4">Confirm Payment</button>
    </section>
  </main>

  <!-- Scripts -->
  <script src="js/cart.js"></script>
  <script src="js/payment.js"></script>
  <script src="js/nav.js"></script>
  <script src="js/sendDataToBackend.js"></script>

  <!-- Inline script to control QR display -->
  <script>
    const paymentMethodSelect = document.getElementById('payment-method');
    const qrCodeContainer = document.getElementById('qr-code-container');
    const qrCodeImage = document.getElementById('qr-code-image');

    const qrCodes = {
      aba: 'img/qr/aba.jpg',   // Change path if needed
      wing: 'img/qr/aba.jpg'  // Change path if needed
    };

    paymentMethodSelect.addEventListener('change', function () {
      const selected = this.value;
      if (qrCodes[selected]) {
        qrCodeImage.src = qrCodes[selected];
        qrCodeContainer.style.display = 'block';
      } else {
        qrCodeContainer.style.display = 'none';
      }
    });
  </script>
</body>
</html>
